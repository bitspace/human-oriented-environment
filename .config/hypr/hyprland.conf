# Monitor Configuration

monitor = eDP-1, 3840x2400@60, 0x0, 2
monitor = DP-1, 2560x1440@144, 1920x0, 1
monitor = DP-2, 2560x1440@144, 4480x0, 1
# Fallback for unexpected monitors  
monitor = , preferred, auto, 1

# Workspace bindings to monitors
# Left external monitor (DP-1) gets workspaces 1-10
workspace = 1, monitor:DP-1
workspace = 2, monitor:DP-1
workspace = 3, monitor:DP-1
workspace = 4, monitor:DP-1
workspace = 5, monitor:DP-1
workspace = 6, monitor:DP-1
workspace = 7, monitor:DP-1
workspace = 8, monitor:DP-1
workspace = 9, monitor:DP-1
workspace = 10, monitor:DP-1

# Right external monitor (DP-2) gets workspaces 11-20
workspace = 11, monitor:DP-2
workspace = 12, monitor:DP-2
workspace = 13, monitor:DP-2
workspace = 14, monitor:DP-2
workspace = 15, monitor:DP-2
workspace = 16, monitor:DP-2
workspace = 17, monitor:DP-2
workspace = 18, monitor:DP-2
workspace = 19, monitor:DP-2
workspace = 20, monitor:DP-2

# Laptop screen gets workspaces 21-22
workspace = 21, monitor:eDP-1
workspace = 22, monitor:eDP-1

# General settings
general {
    gaps_in = 2
    gaps_out = 1
    border_size = 2
    col.active_border = rgba(33ccffee) rgba(00ff99ee) 45deg
    col.inactive_border = rgba(595959aa)
    resize_on_border = false
    allow_tearing = true
}

# ecosystem settings
ecosystem {
    no_update_news = true
    no_donation_nag = true
}

# Decoration settings
decoration {
    rounding = 2
    
    blur {
        enabled = true
        size = 8
        passes = 1
    }
    
    shadow {
        enabled = true
        range = 4
        render_power = 3
        color = rgba(1a1a1aee)
    }
}

# Animation settings (minimal animations)
animations {
    enabled = true
    bezier = myBezier, 0.05, 0.9, 0.1, 1.05
    animation = windows, 1, 3, myBezier
    animation = windowsOut, 1, 3, default, popin 80%
    animation = border, 1, 2, default
    animation = borderangle, 1, 2, default
    animation = fade, 1, 2, default
    animation = workspaces, 1, 2, default  # Much faster workspace switching
}

# Keybindings
$mainMod = SUPER

# Window management
bind = $mainMod, Q, killactive
bind = $mainMod, Return, exec, kitty
bind = $mainMod, E, exec, thunar
bind = $mainMod, R, exec, rofi -show drun
bind = $mainMod, V, togglefloating
bind = $mainMod, L, exec, hyprlock
bind = $mainMod SHIFT, E, exit

# Media and function key bindings
bind = , XF86AudioMute, exec, pactl set-sink-mute @DEFAULT_SINK@ toggle
bind = , XF86AudioLowerVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ -5%
bind = , XF86AudioRaiseVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ +5%
bind = , XF86AudioMicMute, exec, pactl set-source-mute @DEFAULT_SOURCE@ toggle
bind = , XF86MonBrightnessDown, exec, brightnessctl set 5%-
bind = , XF86MonBrightnessUp, exec, brightnessctl set 5%+

# Workspace bindings
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Additional workspaces with Function keys (11-22)
bind = $mainMod, F1, workspace, 11
bind = $mainMod, F2, workspace, 12
bind = $mainMod, F3, workspace, 13
bind = $mainMod, F4, workspace, 14
bind = $mainMod, F5, workspace, 15
bind = $mainMod, F6, workspace, 16
bind = $mainMod, F7, workspace, 17
bind = $mainMod, F8, workspace, 18
bind = $mainMod, F9, workspace, 19
bind = $mainMod, F10, workspace, 20
bind = $mainMod, F11, workspace, 21
bind = $mainMod, F12, workspace, 22

# Move windows to workspaces
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

# Move windows to F-key workspaces
bind = $mainMod SHIFT, F1, movetoworkspace, 11
bind = $mainMod SHIFT, F2, movetoworkspace, 12
bind = $mainMod SHIFT, F3, movetoworkspace, 13
bind = $mainMod SHIFT, F4, movetoworkspace, 14
bind = $mainMod SHIFT, F5, movetoworkspace, 15
bind = $mainMod SHIFT, F6, movetoworkspace, 16
bind = $mainMod SHIFT, F7, movetoworkspace, 17
bind = $mainMod SHIFT, F8, movetoworkspace, 18
bind = $mainMod SHIFT, F9, movetoworkspace, 19
bind = $mainMod SHIFT, F10, movetoworkspace, 20
bind = $mainMod SHIFT, F11, movetoworkspace, 21
bind = $mainMod SHIFT, F12, movetoworkspace, 22

# Screenshot keybindings
bind = , Print, exec, grim -g "$(slurp)" ~/Pictures/Screenshots/$(date +'%Y-%m-%d_%H-%M-%S').png
bind = SHIFT, Print, exec, grim ~/Pictures/Screenshots/$(date +'%Y-%m-%d_%H-%M-%S').png

# Floating window management
bind = $mainMod, V, togglefloating,
bind = $mainMod, TAB, cyclenext,
bind = $mainMod SHIFT, TAB, cyclenext, prev
bind = $mainMod, F, bringactivetotop,

# Input configuration
input {
    touchpad {
        natural_scroll = true
    }
    scroll_method = 2fg  # Two-finger scrolling
    natural_scroll = true  # Natural scroll for mouse wheel
}

# Environment variables
env = GTK_THEME,Adwaita:dark
env = QT_STYLE_OVERRIDE,Adwaita-Dark

# Autostart applications
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP GTK_THEME QT_STYLE_OVERRIDE
exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP GTK_THEME QT_STYLE_OVERRIDE
exec-once = /usr/bin/gnome-keyring-daemon --start --components=secrets
exec-once = waybar
exec-once = ~/.config/hypr/wallpaper-rotation.sh && hyprpaper
exec-once = hypridle
exec-once = /usr/lib/polkit-kde-authentication-agent-1
exec-once = dunst
exec-once = nm-applet --indicator
# Kanshi handles all monitor configuration and hotplugging
exec-once = kanshi

# Window Rules for Notifications and Popups
# Prevent notifications from tiling and disrupting workflow
windowrulev2 = float, class:^(firefox)$, title:^(Firefox â€” Sharing Indicator)$
windowrulev2 = float, class:^(firefox)$, title:^(Picture-in-Picture)$
windowrulev2 = float, class:^(firefox)$, title:^(Library)$
windowrulev2 = float, class:^(chromium)$, title:^(.*is sharing your screen.*)$
windowrulev2 = float, class:^(google-chrome)$, title:^(.*is sharing your screen.*)$
windowrulev2 = float, class:^(google-chrome-unstable)$, title:^(.*is sharing your screen.*)$

# Chrome notification popups (actual notifications, not pages about notifications)
windowrulev2 = float, class:^(google-chrome)$, title:^(Notification)$
windowrulev2 = nofocus, class:^(google-chrome)$, title:^(Notification)$
windowrulev2 = float, class:^(google-chrome-unstable)$, title:^(Notification)$
windowrulev2 = nofocus, class:^(google-chrome-unstable)$, title:^(Notification)$
windowrulev2 = float, class:^(chromium)$, title:^(Notification)$
windowrulev2 = nofocus, class:^(chromium)$, title:^(Notification)$

# Notification daemon rules (for dunst, mako, swaync, etc.)
windowrulev2 = float, class:^(dunst)$
windowrulev2 = nofocus, class:^(dunst)$
windowrulev2 = noborder, class:^(dunst)$
windowrulev2 = noshadow, class:^(dunst)$
windowrulev2 = float, class:^(mako)$
windowrulev2 = nofocus, class:^(mako)$
windowrulev2 = float, class:^(swaync)$
windowrulev2 = nofocus, class:^(swaync)$

# General notification and popup rules
windowrulev2 = float, title:^(notification)$
windowrulev2 = nofocus, title:^(notification)$
windowrulev2 = float, class:^(notification)$
windowrulev2 = nofocus, class:^(notification)$
windowrulev2 = float, title:^(.*Notification.*)$
windowrulev2 = nofocus, title:^(.*Notification.*)$

# Music player popups (Spotify, YouTube Music, etc.) - only specific dialogs
windowrulev2 = float, class:^(Spotify)$, title:^(Spotify Premium)$
windowrulev2 = float, title:^(Media viewer)$

# Browser download/upload dialogs
windowrulev2 = float, title:^(Open File)$
windowrulev2 = float, title:^(Save File)$
windowrulev2 = float, title:^(Save As)$
windowrulev2 = float, title:^(Open Folder)$
windowrulev2 = float, title:^(Select a File)$
windowrulev2 = float, title:^(Choose Files)$
windowrulev2 = float, title:^(Save Image)$

# Password managers and authentication
windowrulev2 = float, class:^(1Password)$
windowrulev2 = float, class:^(Bitwarden)$
windowrulev2 = float, class:^(keepassxc)$
windowrulev2 = float, class:^(polkit-kde-authentication-agent-1)$
windowrulev2 = float, title:^(Authentication Required)$

# System popups
windowrulev2 = float, class:^(nm-connection-editor)$
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = float, class:^(blueman-manager)$
windowrulev2 = float, class:^(xdg-desktop-portal-gtk)$
windowrulev2 = float, class:^(xdg-desktop-portal-kde)$

# Steam and gaming overlays
windowrulev2 = float, class:^(Steam)$, title:^(Friends List)$
windowrulev2 = float, class:^(Steam)$, title:^(Steam - News)$
windowrulev2 = float, class:^(Steam)$, title:^(Steam Guard)$
windowrulev2 = float, class:^(steam)$, title:^(Steam)$
windowrulev2 = float, class:^(steamwebhelper)$

# Discord popups - only specific dialogs
windowrulev2 = float, class:^(discord)$, title:^(Discord Updater)$

# Generic tooltip and popup rules
windowrulev2 = float, class:^(tooltip)$
windowrulev2 = nofocus, class:^(tooltip)$
windowrulev2 = float, class:^(popup)$
windowrulev2 = float, class:^(Popup)$
windowrulev2 = float, class:^(dialog)$
windowrulev2 = float, class:^(Dialog)$
windowrulev2 = float, class:^(download)$
windowrulev2 = float, class:^(error)$
windowrulev2 = float, class:^(splash)$
windowrulev2 = float, class:^(confirmreset)$

# Position floating notifications (optional - adjust as needed)
# This places notifications in top-right corner
windowrulev2 = move 100%-450 50, class:^(dunst)$
windowrulev2 = size 400 100, class:^(dunst)$

# Gaming optimization
misc {
    force_default_wallpaper = 0
    disable_hyprland_logo = true
    vrr = 1  # Variable refresh rate
}
